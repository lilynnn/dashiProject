<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<!-- 전체 게시글 수 불러오는 sql -->
	<entry key="selectListCount">
		SELECT
		       COUNT(*) count
		  FROM ADOPT_NOTICE
         WHERE POST_STATUS = 'Y'
	</entry>
	
	<!-- 게시글 리스트 불러오는 sql -->
	<entry key="selectList">	
		SELECT *
		  FROM (
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                  SELECT 
		                       ANLIST_NO
		                     , AN_TITLE
		                     , WRITE_DATE
		                     , VIEW_COUNT
		                     , ENT_NO
		                     , ADT_STATUS
		                     , ANIMAL_TYPE
		                  FROM ADOPT_NOTICE AN
		                  JOIN ENTRANCE E USING(ENT_NO)
		                 WHERE AN.POST_STATUS = 'Y'
		                 ORDER 
		                    BY ANLIST_NO DESC
		            ) A
		  )
		  WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<!-- 상세조회 요청시 조회수 증가용 sql -->
	<entry key="increaseCount">
		UPDATE
		        ADOPT_NOTICE
		   SET VIEW_COUNT = VIEW_COUNT + 1
		 WHERE ANLIST_NO = ?
		   AND POST_STATUS = 'Y'
	</entry>
	
	<entry key="selectAdoptNotice">
		SELECT
		       ANLIST_NO
		     , AN_TITLE
		     , AN_CONTENT
          	 , TO_CHAR(WRITE_DATE, 'YYYY/MM/DD') "WRITE_DATE"
		     , VIEW_COUNT
		     , ENT_NO
		     , ANIMAL_VARIETY
		     , ANIMAL_NAME
		     , ANIMAL_GENDER
		     , ANIMAL_AGE
		     , ANIMAL_VACCINATED
		     , ANIMAL_NEUTRALIZATION
		     , ANIMAL_DISEASE
		     , ANIMAL_ISSUE
		  FROM ADOPT_NOTICE
		  JOIN ENTRANCE USING(ENT_NO)
		 WHERE ANLIST_NO = ?		
	</entry>

	
</properties>